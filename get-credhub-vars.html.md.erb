---
title: Fetching variable names and values with CredHub
owner: CredHub
---

CredHub has two API endpoints for identifying and reusing variables. To see all the credentials
associated with your product, or to troubleshoot problems specific to one virtual machine (VM),
you can use these API endpoints.

The API endpoints perform these functions:

* Identifying and printing the name of a variable
* Using the name of the variable to identify and print the value of the variable

## <a id="use-api-endpoints"></a>Using the API endpoints

You can use the API endpoints to view variables for any product in <%= vars.platform_name %> except the BOSH Director. These
endpoints are read-only. You
cannot use them to add, remove, or rotate variables.


## <a id="fetch-variables"></a>Fetching Variables

This endpoint returns the list of variables associated with a product that is stored in
CredHub. If you call a variable that is not stored in CredHub, the call returns an empty value.

You can use the variable name in the next endpoint call to return the variable value.

**Example query:**

<pre class="terminal">
$ curl "http<span>s</span>://OPS-MAN-FQDN/api/variables"
    -X GET \
    -H "Authorization: Bearer EXAMPLE_UAA_ACCESS_TOKEN"
</pre>

**Example response:**

<pre class="terminal">
HTTP/1.1 200 OK

{
  "variables": ["FIRST-EXAMPLE-VARIABLE", "SECOND-EXAMPLE-VARIABLE", "THIRD-EXAMPLE-VARIABLE"]
}
</pre>
<br>
**Query parameters:**

<table class=“table”>
<thead>
  <th>Parameter</th>
  <th>Description</th>
  <tr>
</thead>
    <td>product_guid</td>
    <td>The unique product identifier, formatted as a text string</td>
  </tr>
</table>


## <a id="fetch-var-values"></a>Fetching variable values

This endpoint returns the value of a variable stored in
CredHub. If you call a
variable that is not in CredHub, the call returns an empty value.

**Example query:**

<pre class="terminal">
$ curl "http<span>s</span>://OPS-MAN-FQDN/api/variables" name=EXAMPLE-VARIABLE-NAME" \
    -X GET \
    -H "Authorization: Bearer UAA_ACCESS_TOKEN"
</pre>

**Example Response:**

<pre class="terminal">
HTTP/1.1 200 OK

{
  "credhub-password": "EXAMPLE-PASSWORD"
}
</pre>
<br>
**Query parameters:**

<table class=“table”>
<thead>
  <th>Parameter</th>
  <th>Description</th>
  <tr>
</thead>
    <td>variable_name</td>
    <td>The name of the variable, formatted as a text string</td>
  </tr>
  <tr>
    <td>product_guid</td>
    <td>The unique product identifier, formatted as a text string</td>
  </tr>
</table>
